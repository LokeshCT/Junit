<div class="innerWrapBranchSite" ng-init="loadBranchSite()">
<div class="hrMargin">
    <span class="headerLabel collapse" ng-click="collapseGrid()">Customer Branch Sites : {{ numOfMatchingBranchSites }} </span>
    <hr class="hrStyle" width="100%"/>
</div>

<div name="filterSite" style="margin-top: 10px;float: left;width:98%">
    <div class="cqmFieldDiv">
        <label>Standard Filter</label>
        <select name="siteType" class="cqmField" id="siteType" ng-model="siteType"
                ng-change="onStandardFilterChange()"
                ng-options="st.value as st.name for st in siteTypeList"></select>

    </div>
    <div class="cqmFieldDiv">
        <label>Filter Text</label>
        <input type="text" name="fiterText" class="cqmField" id="fiterText" ng-model="fiterText"/>
    </div>
</div>

<form name="branchSiteForm" id="branchSiteForm" ng-model="branchSiteForm" style="float: left;width:98%">

<div class="searchResultGridStyle" style="height:250px" ng-grid="branchSiteGrid" ng-show="displayGrid"></div>

<div class="hrMargin">
    <span class="headerLabel">Update Branch Sites*</span>
    <hr class="hrStyle" width="99%"/>
</div>
<div class="hrMargin" ng-show="showBranchSiteEdit">
    <span class="rfo">*Select Branch Site to Update</span>
</div>


<div ng-form="branchSiteNGForm">

    <div class="cqmFieldDiv" ng-show="!showMap">
        <label>Site Name<span class="rfq">(RFQ)</span></label>
        <input class="cqmField" type="text" id="siteName" name="siteName"
               ng-model="siteDTO.siteName" ng-required="true" tabindex="101" ng-readonly="disablePriceFields"/>
    </div>
    <div class="cqmFieldDiv" ng-show="!showMap">
        <label>Local Company Name</label>
        <input class="cqmField" type="text" id="companyName" name="companyName"
               ng-model="siteDTO.localCompanyName" tabindex="102" ng-readonly="disablePriceFields"
               maxlength="100"/>
    </div>

    <div class="cqmFieldDiv">
        <label>Building Name</label>
        <input class="cqmField" type="text" id="buildingName" name="buildingName"
               ng-model="addressDTO.buildingName" ng-required="isBuildingNameReq" tabindex="103"
               ng-readonly="disablePriceFields">
    </div>

    <div class="cqmFieldDiv">
        <label>Sub Building</label>
        <input class="cqmField" type="text" id="subBuilding" name="subBuilding"
               ng-model="addressDTO.subBuilding" tabindex="104" ng-readonly="disablePriceFields">
    </div>

    <div class="cqmFieldDiv">
        <label>Building Number</label>
        <input class="cqmField" type="text" id="buildingNumber" name="buildingNumber" maxlength="20" size="20"
               ng-model="addressDTO.buildingNumber" ng-required="isBuildingNumReq" tabindex="105"
               ng-readonly="disablePriceFields">
    </div>
        <div class="cqmFieldDiv">
            <label>Room<span class="rfo">(RFO)</span></label>
            <input class="cqmField" type="text" id="room" name="room"
                   ng-model="addressDTO.room" tabindex="106" >
        </div>
        <div class="cqmFieldDiv">
            <label>Floor<span class="rfo">(RFO)</span></label>
            <input class="cqmField" type="text" id="floor" name="floor"
                   ng-model="addressDTO.floor"  tabindex="107">
        </div>


    <div class="cqmFieldDiv">
        <label>Street</label>
        <input class="cqmField" type="text" id="street" name="street"
               ng-model="addressDTO.street" ng-required="isStreetReq" tabindex="108"
               ng-readonly="disablePriceFields">
    </div>
    <div class="cqmFieldDiv">
        <label>Sub Street</label>
        <input class="cqmField" type="text" id="subStreet" name="subStreet"
               ng-model="addressDTO.subStreet" tabindex="109" ng-readonly="disablePriceFields">
    </div>

    <div class="cqmFieldDiv">
        <label>Locality</label>
        <input class="cqmField" type="text" id="locality" name="locality"
               ng-model="addressDTO.locality" ng-required="isLocalityReq" tabindex="110"
               ng-readonly="disablePriceFields">
    </div>
    <div class="cqmFieldDiv">
        <label>Sub Locality</label>
        <input class="cqmField" type="text" id="subLocality" name="subLocality"
               ng-model="addressDTO.subLocality" tabindex="111" ng-readonly="disablePriceFields">
    </div>

    <div class="cqmFieldDiv">
        <label> City <span class="rfq">(RFQ)</span></label>
        <input class="cqmField" type="text" required id="city" name="city" ng-model="addressDTO.city" style="border-color: red"
               tabindex="112" ng-disabled="disablePriceFields"/>
    </div>

    <div class="cqmFieldDiv">
        <label>State/County/Province<span class="rfq">{{provRfq}}</span></label>
        <input class="cqmField" type="text" id="state" name="state"
               ng-model="addressDTO.state" ng-required="provRfqReq" tabindex="113"
               ng-readonly="disablePriceFields"/>
    </div>

    <div class="cqmFieldDiv">
        <label>Sub State/County/Province</label></label>
        <input class="cqmField" type="text" id="subState" name="subState"
               ng-model="addressDTO.subState" tabindex="114" ng-readonly="disablePriceFields"/>
    </div>

    <div class="cqmFieldDiv">
        <label>Country<span class="rfq">(RFQ)</span></label>
        <select id="country" ng-model="addressDTO.country"
                ng-options="country as country.name for country  in allCountries"
                data-placeholder="Select a Country" ng-required="true"
                style="width: 95%;border-color: red" tabindex="115" ng-disabled="disablePriceFields">
        </select>
    </div>

    <div class="cqmFieldDiv">
        <label>Zip/Post Code<span class="rfq">{{zipRfq}}</span></label>
        <input class="cqmField" type="text" id="postCode" name="postCode"
               ng-change="setGeoCodeValue('geoCodeActionId')"  ng-required="zipRfqReq"
               ng-model="addressDTO.postCode"
               tabindex="116" ng-readonly="disablePriceFields"/>
    </div>

    <div class="cqmFieldDiv">
        <label>Sub Post Code</label>
        <input class="cqmField" type="text" id="subPostCode" name="subPostCode"
               ng-change="setGeoCodeValue('geoCodeActionId')"
               ng-model="addressDTO.subPostCode" tabindex="117" ng-readonly="disablePriceFields"/>
    </div>
    <!--
    <div class="cqmFieldDiv">
        <label>PO Box</label>
        <input class="cqmField" type="text" id="poBox" name="poBox"
               ng-change="setGeoCodeValue('geoCodeActionId')" ng-model="addressDTO.POBox"
                tabindex="118" ng-required="isPoBoxReq" ng-disabled="clickedAddLoc" ng-readonly="disablePriceFields"/>
    </div>-->

    <div class="cqmFieldDiv" ng-show="!showMap">
        <label>Phone Number</label>
        <input class="cqmField" type="text" id="phoneNumber" name="phoneNumber"
               ng-model="addressDTO.phoneNumber" no-alpha  tabindex="119"/>
    </div>

    <div class="cqmFieldDiv">
        <label>Latitude</label>
        <input class="cqmField" type="text" id="latitude" name="latitude"
               ng-model="addressDTO.latitude" disabled="true" ng-required="true" ng-readonly="disablePriceFields">
    </div>

    <div class="cqmFieldDiv">
        <label>Longitude</label>
        <input class="cqmField" type="text" id="longitude" name="longitude"
               ng-model="addressDTO.longitude" disabled="true" ng-required="true" ng-readonly="disablePriceFields">
    </div>

    <div style="float: right;margin-right: -135px;margin-bottom: 30px;margin-top: -10px;width: 18%;">
        <input type="checkbox" id="clearLat" name="clearLat"
               ng-model="clearLatLong" tabindex="122" ng-click="onClearClick()">Clear</input>
    </div>

    <input class="cqmField" type="hidden" id="siteId" name="siteId"
           ng-model="siteDTO.siteId" disabled="true">

    <div class="hrMargin" style="clear:both;float:left;margin-top: 5px;margin-bottom: 10px;display: block" ng-show="!showMap">
        <span class="headerLabel" style="clear:both;float: left">Site Labels</span>
        <hr class="hrStyle" width="100%"/>
    </div>

    <div id="siteLabel" name="siteLabel" style="clear:both;margin-top: 5px;float: left">
        <div class="cqmFieldDiv"  ng-show="!showMap">
            <label>Customer Friendly Site Name</label>
            <input class="cqmField" type="text" id="sitFriendlyName" name="sitFriendlyName"
                   ng-model="siteDTO.sitFriendlyName" tabindex="120" maxlength="100">
        </div>
        <div class="cqmFieldDiv" ng-show="!showMap">
            <label>Customer Report Site Name</label>
            <input class="cqmField" type="text" id="custReportSiteName" name="custReportSiteName"
                   ng-model="siteDTO.sitNetworkReportingRef" tabindex="120" maxlength="100">
        </div>
        <div class="cqmFieldDiv" ng-show="!showMap">
            <label>Site Reference<span class="rfo">(RFO)</span></label>
            <input class="cqmField" type="text" id="sitReference" name="sitReference"
                   ng-model="siteDTO.sitReference" tabindex="120" maxlength="50" ng-required="true">
        </div>
        <div class="cqmFieldDiv" ng-show="!showMap">
            <label>Site Cus Reference</label>
            <input class="cqmField" type="text" id="siteCusReference" name="siteCusReference"
                   ng-model="siteDTO.sitCusReference" tabindex="120" maxlength="50">
        </div>
        <div class="cqmFieldDiv" ng-show="!showMap">
            <label>Region</label>
            <input class="cqmField" type="text" id="sitCusRegion" name="sitCusRegion"    ng-show="allowNewRegion"
                   ng-model="siteDTO.sitCusRegion"  data-toggle="tooltip" title="Enter New Region" tabindex="120" maxlength="100" style="width: 80%;margin-bottom: 0px"/>
            <select id="sitCusRegionExist" ng-model="siteDTO.sitCusRegion"    ng-show="!allowNewRegion"
                    ng-options="sitCusRegion.region as sitCusRegion.region for sitCusRegion  in siteRegionList"
                    data-placeholder="Select a Region"
                    style="width: 85%"  tabindex="115"/>
            <button ng-click="addRegion()" class="plus-btn" data-toggle="tooltip" title="Add New Region"><i class="fa fa-plus fa-fw"></i></button>

        </div>
        <div class="cqmTextAreaFieldDiv" ng-show="!showMap">
            <label>Site Comments</label>
            <textarea class="cqmTextAreaField" type="text" id="comments" name="comments"
                      ng-model="siteDTO.comment" tabindex="121" maxlength="1000"/>
        </div>
    </div>
    <div class="containerDiv" style="float:left;margin-bottom: 5px;">
        <button type="button" class="btn google-map" ng-show="!disableSearch && !clickedAddLoc"
                style="float:right;margin:5px;" ng-click="clickShowMap()" tabindex="134">
        </button>
        <button type="button" class="btn google-map-black" ng-show="disableSearch"
                style="float:right;margin:5px;" tabindex="133">
        </button>
        <button type="button" class="btn" ng-disabled="disableSearch || clickedAddLoc" ng-click="searchAddress()"
                style="float:right;margin:5px;" tabindex="132">Search
            Address
        </button>
        <button type="button" class="btn" ng-disabled="false" ng-click="reset()"
                style="float:right;margin:5px;" tabindex="131">Reset
        </button>
        <button type="button" class="btn" style="float:right;margin:5px;" id="editCustomerId"
                ng-disabled="branchSiteNGForm.$invalid && branchSiteNGForm.$dirty"
                ng-click="clickSubmit()" tabindex="130"
            >{{updateSiteOrCreateLocLabel}}
        </button>
        <button type="button" class="btn" style="float:right;margin:5px;" id="addLocation"
                ng-disabled="branchSiteNGForm.$invalid"
                ng-click="addLocation()" tabindex="130"
            >Add Location
        </button>
        <!--    <button class="btn" style="float:right;margin:5px;" id="createCustomerId"
                    ng-model="createCustomerId"
                    ng-disabled="disableSubmit"
                    ng-click="createBranchSite(true)" tabindex="122"
                >Create Branch Site
            </button>
-->

    </div>

    <div ng-show="isAdrSearchSuccess" class="searchResult">
        <div class="hrMargin">
            <span class="headerLabel">Search Results: {{ numOfMatchingAddresses }} address(es) found.</span>
            <hr class="hrStyle">
        </div>

        <div class="searchResultGridStyle" style="height: 250px" ng-grid="addressGrid"></div>
    </div>
    <div ng-show="showMap" style="height: 420px;width: 98%; margin-left: 2px;margin-right: 2px;margin-bottom: 20px; margin-top:10px;">
        <div id="map-canvas" class="map-canvas"></div>
        <input id="pac-input" name="pac-input" class="map-canvas" type="text" placeholder="Search Maps"
               style="background-color: #fff;font-family: Roboto;font-size: 15px;font-weight: 300;margin-left: 12px;margin-top: 12px;padding: 0 11px 0 13px;text-overflow: ellipsis;
  width: 300px;height: 30px"/>
    </div>
</div>
</form>
<associated-site-quote-display-dialog
    associated-quotes="associatedQuotes" disable-price-fields="disablePriceFields"
    display="showQuoteDialog"></associated-site-quote-display-dialog>
<add-location-dialog display="showAddLocDialog" site-id="siteDTO.sitId" floor="addressDTO.floor" room="addressDTO.room" sub-location-name="siteDTO.locSubPremise"></add-location-dialog>
</div>

